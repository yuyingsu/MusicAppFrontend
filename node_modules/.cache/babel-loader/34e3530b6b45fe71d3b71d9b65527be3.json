{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yuyin\\\\onedrive\\\\desktop\\\\MusicappFrontendDeployment\\\\src\\\\views\\\\Events.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { Container, Row, Col } from 'reactstrap';\nimport { allEvents } from \"../actions/eventActions\";\nimport Pagination from '@material-ui/lab/Pagination';\nimport CardEvent from \"../components/CardEvent.js\";\nimport SearchBar from \"material-ui-search-bar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Events(props) {\n  _s();\n\n  const [searchTerm, setSearchTerm] = useState('');\n  const [page, setPage] = useState(1);\n  const dispatch = useDispatch();\n  const allEventReducer = useSelector(state => state.allEvent);\n  const {\n    events,\n    count\n  } = allEventReducer;\n  useEffect(() => {\n    dispatch(allEvents(page, searchTerm));\n  }, [page]);\n\n  const fetch = searchTerm => {\n    console.log(searchTerm);\n    setPage(1);\n    dispatch(allEvents(page, searchTerm));\n  };\n\n  const handleChange = (event, value) => {\n    setPage(value);\n  };\n\n  let res = null;\n\n  if (events) {\n    res = events['events'].map((event, idx) => /*#__PURE__*/_jsxDEV(Col, {\n      xs: \"4\",\n      className: \"d-flex justify-content-center align-items-center\",\n      children: /*#__PURE__*/_jsxDEV(CardEvent, {\n        headline: event.headline,\n        id: event.id,\n        name: event.users[0] ? event.users[0].username : \"no one\",\n        user_id: event.users[0] ? event.users[0].id : null\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this));\n  }\n\n  console.log(count);\n\n  const format = dateString => {\n    const monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n    const dayNames = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\n    var date = new Date(dateString);\n    var pm = date.getHours() > 12 ? \"pm\" : \"am\";\n    var hr = date.getHours() > 12 ? date.getHours() - 12 : date.getHours();\n    return monthNames[date.getMonth()] + \" \" + date.getDate() + \", \" + dayNames[date.getDay()] + \", \" + hr + \":\" + date.getMinutes() + pm;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"80px\",\n      height: \"820px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"d-flex justify-content-center align-items-center\",\n        children: /*#__PURE__*/_jsxDEV(SearchBar, {\n          style: {\n            marginTop: \"30px\",\n            marginBottom: \"30px\"\n          },\n          value: searchTerm,\n          onChange: newValue => setSearchTerm(newValue),\n          onRequestSearch: searchTerm => fetch(searchTerm)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: res\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          marginTop: \"50px\"\n        },\n        className: \"d-flex justify-content-center align-items-center\",\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          count: Math.ceil(count / 6),\n          page: page,\n          onChange: handleChange,\n          variant: \"outlined\",\n          shape: \"rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Events, \"nGCHYM4B1sswTihH8hr/wv6e9sI=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Events;\nexport default Events;\n\nvar _c;\n\n$RefreshReg$(_c, \"Events\");","map":{"version":3,"sources":["C:/Users/yuyin/onedrive/desktop/MusicappFrontendDeployment/src/views/Events.js"],"names":["React","useEffect","useDispatch","useSelector","useState","Container","Row","Col","allEvents","Pagination","CardEvent","SearchBar","Events","props","searchTerm","setSearchTerm","page","setPage","dispatch","allEventReducer","state","allEvent","events","count","fetch","console","log","handleChange","event","value","res","map","idx","headline","id","users","username","format","dateString","monthNames","dayNames","date","Date","pm","getHours","hr","getMonth","getDate","getDay","getMinutes","marginTop","height","marginBottom","newValue","Math","ceil"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { Container, Row, Col } from 'reactstrap';\nimport { allEvents } from \"../actions/eventActions\";\nimport Pagination from '@material-ui/lab/Pagination';\nimport CardEvent from \"../components/CardEvent.js\";\nimport SearchBar from \"material-ui-search-bar\";\n\nfunction Events(props) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [page, setPage] = useState(1);\n  const dispatch = useDispatch();\n  const allEventReducer = useSelector((state) => state.allEvent);\n  const { events,count } = allEventReducer;\n\n  useEffect(() => {\n    dispatch(allEvents(page,searchTerm));\n  }, [page])\n\n  const fetch = (searchTerm) => {\n    console.log(searchTerm);\n    setPage(1);\n    dispatch(allEvents(page, searchTerm));\n  }\n  \n  \n  const handleChange = (event, value) => {\n    setPage(value);\n  };\n\n  let res = null;\n  if(events){\n    res = events['events'].map((event,idx) => (\n      <Col xs=\"4\" className=\"d-flex justify-content-center align-items-center\">\n          <CardEvent key={idx} headline={event.headline} id={event.id} name={event.users[0]?event.users[0].username:\"no one\"} user_id = {event.users[0]?event.users[0].id:null}/>\n      </Col>));\n  }\n  console.log(count);\n\n  const format = (dateString) =>{\n    const monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\n    \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\n    ];\n    const dayNames = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\",\n    \"Sun\"\n    ];\n    var date = new Date(dateString);\n    var pm = date.getHours()>12?\"pm\":\"am\";\n    var hr = date.getHours()>12?date.getHours()-12:date.getHours();\n    return monthNames[date.getMonth()]+\" \"+date.getDate()+\", \"+dayNames[date.getDay()]+\", \"+hr+\":\"+date.getMinutes()+pm;\n  }\n  \n  return(\n  <div style={{marginTop: \"80px\", height:\"820px\"}}>\n      <Container fluid>\n        <Row className=\"d-flex justify-content-center align-items-center\">\n        <SearchBar\n        style={{marginTop:\"30px\", marginBottom:\"30px\"}}\n        value={searchTerm}\n        onChange={(newValue) => setSearchTerm(newValue)}\n        onRequestSearch={(searchTerm) => fetch(searchTerm)}\n        />\n        </Row>\n        <Row>\n          {res}\n        </Row>  \n        <Row style={{marginTop:\"50px\"}}  className=\"d-flex justify-content-center align-items-center\">\n        <Pagination  count={Math.ceil(count/6)} page={page} onChange={handleChange} variant=\"outlined\" shape=\"rounded\" />\n        </Row>\n      </Container>\n  </div>)\n  }\n\nexport default Events;"]},"metadata":{},"sourceType":"module"}