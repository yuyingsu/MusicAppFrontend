{"ast":null,"code":"import Axios from \"axios\";\nimport { CREATE_EVENT_REQUEST, CREATE_EVENT_SUCCESS, CREATE_EVENT_FAIL, ALL_EVENT_REQUEST, ALL_EVENT_SUCCESS, ALL_EVENT_FAIL, SINGLE_EVENT_REQUEST, SINGLE_EVENT_SUCCESS, SINGLE_EVENT_FAIL } from \"../constants/eventConstants\";\n\nconst createEvent = (streetName, city, state, zip, headline, description, date, user_id) => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n    dispatch({\n      type: CREATE_EVENT_REQUEST,\n      payload: {\n        streetName,\n        city,\n        state,\n        zip,\n        headline,\n        description,\n        date,\n        user_id\n      }\n    });\n    const {\n      data\n    } = await Axios.post(\"https://tangerinemusic.herokuapp.com/createevent\", {\n      streetName,\n      city,\n      state,\n      zip,\n      headline,\n      description,\n      date,\n      user_id\n    }, {\n      headers: {\n        \"Authorization\": ' Bearer ' + userInfo.access_token\n      }\n    });\n    dispatch({\n      type: CREATE_EVENT_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error.response);\n    dispatch({\n      type: CREATE_EVENT_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst allEvents = (page, searchTerm) => async dispatch => {\n  try {\n    dispatch({\n      type: ALL_EVENT_REQUEST,\n      payload: {}\n    });\n    const {\n      data\n    } = await Axios.get(\"https://tangerinemusic.herokuapp.com/events/\" + page + \"?term=\" + searchTerm, {}, {});\n    dispatch({\n      type: ALL_EVENT_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error.response);\n    dispatch({\n      type: ALL_EVENT_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst getEvent = id => async dispatch => {\n  try {\n    dispatch({\n      type: SINGLE_EVENT_REQUEST,\n      payload: {}\n    });\n    const {\n      data\n    } = await Axios.get(\"https://tangerinemusic.herokuapp.com/event/\" + id, {}, {});\n    dispatch({\n      type: SINGLE_EVENT_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error.response);\n    dispatch({\n      type: SINGLE_EVENT_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nexport { createEvent, allEvents, getEvent };","map":{"version":3,"sources":["C:/Users/yuyin/onedrive/desktop/MusicappFrontendDeployment/src/actions/eventActions.js"],"names":["Axios","CREATE_EVENT_REQUEST","CREATE_EVENT_SUCCESS","CREATE_EVENT_FAIL","ALL_EVENT_REQUEST","ALL_EVENT_SUCCESS","ALL_EVENT_FAIL","SINGLE_EVENT_REQUEST","SINGLE_EVENT_SUCCESS","SINGLE_EVENT_FAIL","createEvent","streetName","city","state","zip","headline","description","date","user_id","dispatch","getState","userSignin","userInfo","type","payload","data","post","headers","access_token","error","console","log","response","message","allEvents","page","searchTerm","get","getEvent","id"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\nimport {\n  CREATE_EVENT_REQUEST,\n  CREATE_EVENT_SUCCESS,\n  CREATE_EVENT_FAIL,\n  ALL_EVENT_REQUEST,\n  ALL_EVENT_SUCCESS,\n  ALL_EVENT_FAIL,\n  SINGLE_EVENT_REQUEST,\n  SINGLE_EVENT_SUCCESS,\n  SINGLE_EVENT_FAIL\n} from \"../constants/eventConstants\";\n\nconst createEvent = (streetName, city, state, zip, headline, description, date, user_id) => async (dispatch, getState) => {\n    try {\n      const { userSignin: { userInfo } } = getState();\n      dispatch({ type: CREATE_EVENT_REQUEST, payload: { streetName, city, state, zip, headline, description, date, user_id } });\n      const { data } = await Axios.post(\"https://tangerinemusic.herokuapp.com/createevent\", { streetName, city, state, zip, headline, description, date, user_id },{\n        headers: {\n            \"Authorization\": ' Bearer ' + userInfo.access_token\n          }\n      });\n      dispatch({ type: CREATE_EVENT_SUCCESS, payload: data });\n    } catch (error) {\n      console.log(error.response);\n      dispatch({ type: CREATE_EVENT_FAIL, payload: error.message });\n    }\n  }\n\n  const allEvents = (page, searchTerm) => async (dispatch) => {\n    try {\n      dispatch({ type: ALL_EVENT_REQUEST, payload: {} });\n      const { data } = await Axios.get(\"https://tangerinemusic.herokuapp.com/events/\"+page+\"?term=\"+searchTerm, {},{});\n      dispatch({ type: ALL_EVENT_SUCCESS, payload: data });\n    } catch (error) {\n      console.log(error.response);\n      dispatch({ type: ALL_EVENT_FAIL, payload: error.message });\n    }\n  }\n\n  const getEvent = (id) => async (dispatch) => {\n    try {\n      \n      dispatch({ type: SINGLE_EVENT_REQUEST, payload: {} });\n      const { data } = await Axios.get(\"https://tangerinemusic.herokuapp.com/event/\"+id, {},{});\n      dispatch({ type: SINGLE_EVENT_SUCCESS, payload: data });\n    } catch (error) {\n      console.log(error.response);\n      dispatch({ type: SINGLE_EVENT_FAIL, payload: error.message });\n    }\n  }\n\n\nexport {\n  createEvent,\n  allEvents,\n  getEvent\n};\n\n"]},"metadata":{},"sourceType":"module"}