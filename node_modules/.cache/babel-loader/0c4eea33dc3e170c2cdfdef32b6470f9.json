{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yuyin\\\\onedrive\\\\desktop\\\\MusicappFrontendDeployment\\\\src\\\\views\\\\SingleList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport { Link } from \"react-router-dom\";\nimport { getList } from \"../actions/listActions\";\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\nimport { Button } from '@material-ui/core';\nimport 'react-jinke-music-player/assets/index.css';\nimport Heart from \"react-animated-heart\";\nimport Axios from \"axios\";\nimport HOC from \"../Hoc\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  }\n}));\n\nfunction SingleList(props) {\n  _s();\n\n  const dispatch = useDispatch();\n  const singleListReducer = useSelector(state => state.singleList);\n  const userSignin = useSelector(state => state.userSignin);\n  const {\n    userInfo\n  } = userSignin;\n  const {\n    list\n  } = singleListReducer;\n  const [toggle, setToggle] = useState(false);\n  const [like, setLike] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [users, setUsers] = useState([]);\n  const classes = useStyles();\n  useEffect(() => {\n    dispatch(getList(props.id));\n    isLike();\n    userList();\n  }, [like]);\n\n  async function isLike() {\n    try {\n      let response = await Axios.get(\"https://tangerinemusic.herokuapp.com/liked/\" + props.id, {\n        headers: {\n          \"Authorization\": ' Bearer ' + userInfo.refresh_token\n        }\n      });\n      response = await response.data;\n      setLike(response);\n    } catch (error) {\n      console.log(error.response);\n    }\n  }\n\n  async function likeList() {\n    try {\n      let response = await Axios.post(\"https://tangerinemusic.herokuapp.com/like/\" + props.id, {}, {\n        headers: {\n          \"Authorization\": ' Bearer ' + userInfo.refresh_token\n        }\n      });\n      setLike(true);\n    } catch (error) {\n      console.log(error.response);\n    }\n  }\n\n  async function unlikeList() {\n    try {\n      let response = await Axios.post(\"https://tangerinemusic.herokuapp.com/unlike/\" + props.id, {}, {\n        headers: {\n          \"Authorization\": ' Bearer ' + userInfo.refresh_token\n        }\n      });\n      setLike(false);\n    } catch (error) {\n      console.log(error.response);\n    }\n  }\n\n  async function userList() {\n    try {\n      let response = await Axios.get(\"https://tangerinemusic.herokuapp.com/likedlist/\" + props.id, {}, {});\n      let temp = [];\n      response['data'].map(e => {\n        temp.push({\n          id: e['id'],\n          username: e['username']\n        });\n      });\n      setUsers(temp);\n    } catch (error) {\n      console.log(error.response);\n    }\n  }\n\n  const clickLike = () => {\n    if (userInfo) {\n      if (!like) {\n        likeList();\n      } else {\n        unlikeList();\n      }\n    } else {\n      alert(\"Please sign in first.\");\n    }\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  let res = users.map(e => /*#__PURE__*/_jsxDEV(ListItem, {\n    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n      style: {\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/profile/${e.id}`,\n        children: e.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 72\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 29\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"80px\",\n      height: \"570px\",\n      marginLeft: \"50px\",\n      marginRight: \"50px\",\n      marginTop: \"100px\"\n    },\n    children: [list ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [list.title, /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          float: \"right\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Heart, {\n          isClick: like,\n          onClick: clickLike\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 61\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }, this) : null, /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        className: classes.table,\n        \"aria-label\": \"simple table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Song Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Song Artist\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Play\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: list ? list['songs'].map(elem => /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: elem.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: elem.artist\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(PlayCircleFilledIcon, {\n                onClick: e => {\n                  setToggle(!toggle);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 18\n            }, this)]\n          }, elem.name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 16\n          }, this)) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\"\n      },\n      children: [\" \", /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: handleOpen,\n        style: {\n          fontSize: \"12px\"\n        },\n        children: [users.length, \" Likes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 41\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      \"aria-labelledby\": \"transition-modal-title\",\n      \"aria-describedby\": \"transition-modal-description\",\n      className: classes.modal,\n      open: open,\n      onClose: handleClose,\n      closeAfterTransitione: true,\n      BackdropComponent: Backdrop,\n      BackdropProps: {\n        timeout: 500\n      },\n      children: /*#__PURE__*/_jsxDEV(Fade, {\n        in: open,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.paper,\n          style: {\n            width: \"500px\",\n            height: \"500px\",\n            textAlign: \"center\"\n          },\n          children: [\"Who liked this playlist:\", /*#__PURE__*/_jsxDEV(List, {\n            children: res\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 3\n  }, this);\n}\n\n_s(SingleList, \"6Mr06kcPymUJJBN2wKSp/O9xL+A=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useStyles];\n});\n\n_c = SingleList;\n;\nexport default _c2 = HOC(SingleList);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SingleList\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/yuyin/onedrive/desktop/MusicappFrontendDeployment/src/views/SingleList.js"],"names":["React","useEffect","useDispatch","useSelector","useState","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","List","ListItem","ListItemText","Paper","Modal","Backdrop","Fade","Link","getList","PlayCircleFilledIcon","Button","Heart","Axios","HOC","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","SingleList","props","dispatch","singleListReducer","state","singleList","userSignin","userInfo","list","toggle","setToggle","like","setLike","open","setOpen","users","setUsers","classes","id","isLike","userList","response","get","headers","refresh_token","data","error","console","log","likeList","post","unlikeList","temp","map","e","push","username","clickLike","alert","handleOpen","handleClose","res","textAlign","marginTop","height","marginLeft","marginRight","title","float","table","elem","artist","name","fontSize","length","timeout","width"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport { Link } from \"react-router-dom\";\nimport { getList } from \"../actions/listActions\";\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\nimport { Button } from '@material-ui/core';\nimport 'react-jinke-music-player/assets/index.css';\nimport Heart from \"react-animated-heart\";\nimport Axios from \"axios\";\nimport HOC from \"../Hoc\";\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nfunction SingleList(props) {\n  const dispatch = useDispatch();\n  const singleListReducer = useSelector((state) => state.singleList);\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n  const { list } = singleListReducer;\n  const [toggle, setToggle] = useState(false);\n  const [like, setLike] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [users, setUsers] = useState([]);\n  const classes = useStyles();\n  \n  useEffect(() => {\n    dispatch(getList(props.id));\n    isLike();\n    userList();\n  }, [like])\n\n  async function isLike() {\n    try{\n    let response = await Axios.get(\"https://tangerinemusic.herokuapp.com/liked/\"+props.id, {\n      headers: {\n        \"Authorization\": ' Bearer ' + userInfo.refresh_token\n      }\n    });\n    response = await response.data\n    setLike(response)\n    }catch(error){\n      console.log(error.response);\n    }\n  }\n\n  async function likeList() {\n    try{\n    let response = await Axios.post(\"https://tangerinemusic.herokuapp.com/like/\"+props.id, {}, {\n      headers: {\n        \"Authorization\": ' Bearer ' + userInfo.refresh_token\n      }\n    });\n    setLike(true);\n    }catch(error){\n      console.log(error.response);\n    }\n  }\n\n  async function unlikeList() {\n    try{\n    let response = await Axios.post(\"https://tangerinemusic.herokuapp.com/unlike/\"+props.id, {}, {\n      headers: {\n        \"Authorization\": ' Bearer ' + userInfo.refresh_token\n      }\n    });\n    setLike(false);\n    }catch(error){\n      console.log(error.response);\n    }\n  }\n\n  async function userList() {\n    try{\n    let response = await Axios.get(\"https://tangerinemusic.herokuapp.com/likedlist/\"+props.id, {}, {\n    });\n    let temp = [];\n    response['data'].map((e)=>{\n      temp.push({id:e['id'], username:e['username']});\n    });\n    setUsers(temp);\n    }catch(error){\n      console.log(error.response);\n    }\n  }\n\n  const clickLike = () => {\n    if(userInfo){\n      if(!like){\n      likeList();\n    }else{\n      unlikeList();\n    }\n    }else{\n     alert(\"Please sign in first.\"); \n    }\n  }\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  let res = users.map((e)=> <ListItem>\n                            <ListItemText style={{textAlign:\"center\"}}><Link to={`/profile/${e.id}`}>{e.username}</Link></ListItemText>\n                            </ListItem>);\n  return(\n  <div style={{marginTop: \"80px\", height: \"570px\", marginLeft:\"50px\", marginRight:\"50px\", marginTop:\"100px\"}} >\n        {list?<h1>{list.title}<div style={{float:\"right\"}} ><Heart isClick={like} onClick={clickLike}/></div></h1>:null}\n        <TableContainer component={Paper}>\n         <Table className={classes.table} aria-label=\"simple table\">\n           <TableHead>\n             <TableRow>\n               <TableCell>Song Title</TableCell>\n               <TableCell>Song Artist</TableCell>\n               <TableCell>Play</TableCell>\n             </TableRow>\n           </TableHead>\n           <TableBody>\n             { list ? list['songs'].map((elem) => (\n               <TableRow key={elem.name}>\n                 <TableCell>{elem.title}</TableCell>\n                 <TableCell>{elem.artist}</TableCell>\n                 <TableCell><PlayCircleFilledIcon onClick={(e)=>{setToggle(!toggle)}}/></TableCell>\n               </TableRow>\n             )):null}\n           </TableBody>\n         </Table>\n       </TableContainer>\n       <div style={{marginTop:\"20px\"}}> <Button variant=\"primary\" onClick={handleOpen} style={{fontSize:\"12px\"}}>{users.length} Likes</Button></div>\n       <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={handleClose}\n        closeAfterTransitione\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n       >\n       <Fade in={open}>\n          <div className={classes.paper} style={{width:\"500px\", height:\"500px\", textAlign:\"center\"}}>\n            Who liked this playlist:\n          <List>\n          {res}\n          </List>\n          </div>\n        </Fade>\n       </Modal>\n  </div>)\n};\n\nexport default HOC(SingleList);"]},"metadata":{},"sourceType":"module"}